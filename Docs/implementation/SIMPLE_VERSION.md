# VRChat MTG 風カードゲーム 簡易版仕様

## 概要

このドキュメントは、VRChat カードゲームワールドの簡易版（フェーズ 1）の実装仕様を定義します。

## 基本仕様

### プレイヤー設定

-   対戦モード：2 人対戦 / 4 人対戦
-   観戦：周囲での見学のみ（機能的な実装なし）
-   初期ライフ：20 点

### 実装範囲

1. 基本システム

    - シンプルな手番制
        - ターン制の基本的な進行
        - 手番の受け渡し機能
    - 基本的なカード配置と移動
        - カードの配布
        - デッキのシャッフル

2. カード基本システム

    - カードの基本データ構造
        - カード名
        - カードタイプ（土地/クリーチャー等）
        - パワー/タフネス（クリーチャーの場合）
        - マナコスト
        - レアリティ
        - カードテキスト
    - 手札管理
        - 非公開情報の管理
        - 手札の公開機能
    - シンプルなマナシステム
        - 土地からの基本マナ生成
        - マナプールの管理

3. デッキ構築システム

    - デッキエディター

        - カードリスト表示
        - カード検索機能
            - カード名検索
            - タイプ別フィルター
            - マナコスト別フィルター
        - デッキリスト表示
            - カード枚数カウント
            - カードタイプ別集計
            - マナカーブグラフ

    - デッキ管理機能

        - デッキの保存/読み込み
        - デッキの複製
        - デッキの編集
        - デッキの削除

    - デッキ構築ルール

        - 最小デッキ枚数（60 枚）
        - カード投入上限（基本土地以外は 4 枚まで）
        - フォーマット別制限
            - スタンダード
            - モダン
            - 統率者

    - デッキデータ構造

        - メインデッキ
        - サイドボード（15 枚まで）
        - 統率者（該当フォーマットの場合）

    - インポート/エクスポート
        - テキスト形式でのデッキリスト入出力
        - デッキコードの生成/読み込み

4. プレイエリア設計

    - 基本ゾーンの実装
        - デッキゾーン
        - 手札エリア
        - メインゾーン（戦場）
        - 墓地ゾーン
    - カード移動システム
        - ドラッグ＆ドロップ
        - VR でのつかみ操作

5. 操作システム

    - VR モード
        - Oculus などのコントローラー対応
        - 直感的なカード操作
            - カードのピックアップ
            - カードの配置
            - カードの回転（タップ/アンタップ）
    - デスクトップモード
        - マウスによるカード操作
        - 基本的な UI ボタン
    - クロスプラットフォーム対応
        - VR/デスクトップ間の操作互換性
        - 操作感の統一

6. マルチプレイヤー
    - 基本的なネットワーク同期
        - カードの位置と状態
        - プレイヤーの行動
        - デッキと手札の状態
    - 非公開情報の管理
        - 手札の適切な表示/非表示
        - 必要に応じた手札公開機能

### 次期開発に延期する機能

-   フェイズシステムの詳細実装
-   カード効果の実装
-   詳細な情報表示システム
-   ランキングシステム
-   高度な観戦モード機能
-   スタック処理システム
-   高度なデッキ構築機能
    -   詳細なカード検索
    -   デッキ分析ツール
    -   カードの相性分析
    -   推奨デッキ提案

## パフォーマンス最適化

1. ネットワーク最適化

    - 必要最小限の同期処理
    - 効率的な状態更新

2. メモリ管理

    - 必要最小限のアセット読み込み
    - テクスチャメモリの最適化

3. 物理演算
    - シンプルな衝突判定
    - 基本的なカード物理挙動

## テスト計画

### 基本機能テスト

-   カードの基本操作
    -   カードのピックアップ/配置
    -   タップ/アンタップ動作
    -   デッキのシャッフル
    -   カードのドロー

### マルチプレイテスト

-   2 人対戦での動作確認
-   4 人対戦での動作確認
-   非公開情報の適切な管理

### クロスプラットフォームテスト

-   VR モードでの操作確認
-   デスクトップモードでの操作確認
-   プラットフォーム間の互換性

### パフォーマンステスト

-   フレームレートの確認
-   ネットワーク遅延の確認
-   メモリ使用量の監視
