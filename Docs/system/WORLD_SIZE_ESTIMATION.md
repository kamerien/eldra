# VRChat MTG ワールド 容量見積もり

## 1. データサイズ内訳

### カードテクスチャ

| フォーマット   | カード枚数   | アトラス数 | サイズ |
| -------------- | ------------ | ---------- | ------ |
| Standard       | 約 1,500 枚  | 15 個      | 180MB  |
| Pioneer        | 約 8,000 枚  | 80 個      | 960MB  |
| Modern         | 約 15,000 枚 | 150 個     | 1.8GB  |
| Legacy/Vintage | 約 20,000 枚 | 200 個     | 2.4GB  |
| Pauper         | 約 7,000 枚  | 70 個      | 840MB  |

#### テクスチャ詳細

-   カード 1 枚あたり: 336x468px (DXT5 圧縮)
-   単体サイズ: 約 150KB
-   アトラスサイズ: 4096x4096px
-   アトラス 1 個あたり: 約 12MB
-   1 アトラスあたりカード数: 100 枚

### カードデータ (JSON)

| フォーマット   | カード枚数   | データサイズ |
| -------------- | ------------ | ------------ |
| Standard       | 約 1,500 枚  | 1.5MB        |
| Pioneer        | 約 8,000 枚  | 8MB          |
| Modern         | 約 15,000 枚 | 15MB         |
| Legacy/Vintage | 約 20,000 枚 | 20MB         |
| Pauper         | 約 7,000 枚  | 7MB          |

### その他アセット

-   ワールドジオメトリ/マテリアル: 50MB
-   UI 要素: 20MB
-   スクリプト: 5MB
-   その他システムファイル: 5MB

## 2. フォーマット別ワールド容量

| 実装範囲            | 合計サイズ | VRChat 推奨制限との比較 |
| ------------------- | ---------- | ----------------------- |
| Standard のみ       | 約 250MB   | やや超過                |
| Standard + Pioneer  | 約 1.2GB   | 大幅超過                |
| Modern 込み         | 約 3GB     | 大幅超過                |
| Legacy/Vintage 込み | 約 5.4GB   | 大幅超過                |
| 全フォーマット      | 約 6.2GB   | 大幅超過                |

## 3. 対応策

### A. フォーマット分割方式

1. メインワールド (Standard)

    - 容量: 約 250MB
    - 基本的な対戦機能
    - ソーシャル機能

2. フォーマット別サテライトワールド
    - Pioneer World: 約 1GB
    - Modern World: 約 1.8GB
    - Legacy/Vintage World: 約 2.4GB
    - Pauper World: 約 850MB

### B. 最適化手法

1. テクスチャ圧縮の改善

```
- DXT5からより効率的な圧縮方式へ変更
- カードサイズの最適化（280x390px）
- ミップマップの無効化
推定削減量: 30-40%
```

2. アトラス最適化

```
- フォーマット使用頻度による分割
- よく使用されるカードの優先配置
- 解像度の動的調整
推定削減量: 20-25%
```

3. データ構造の最適化

```
- JSONデータの圧縮
- 不要フィールドの削除
- バイナリ形式への変換
推定削減量: 40-50%
```

### C. 推奨実装プラン

1. フェーズ 1: Standard ワールド

```
容量目標: 200MB以下
- テクスチャ圧縮の最適化
- 必要最小限のアセット
- 基本機能の実装
```

2. フェーズ 2: 追加フォーマット

```
個別ワールドとして実装
- Pioneer World
- Modern World
- Legacy/Vintage World
- Pauper World
```

3. フェーズ 3: 連携機能

```
- ワールド間のポータル設置
- デッキデータの共有機能
- プレイヤープロファイルの連携
```

## 4. 結論

VRChat の推奨ワールドサイズ（200MB）を考慮すると：

1. 実装方針

-   フォーマットごとに別ワールドとして実装
-   Standard フォーマットを基本ワールドとして優先実装
-   最適化技術の適用により 200MB 以下を目指す

2. 期待される効果

-   ロード時間の短縮
-   パフォーマンスの向上
-   メモリ使用量の削減
-   ワールド参加のしやすさ向上
